define("doc",["event"],function(g){function n(c){return c?"string"===typeof c?f(h(document,c)):f(c):c}var l={isTag:function(c){return c.match(/^\w+$/)},isClass:function(c){return c.match(/^\.[\w-]+$/)},isId:function(c){return c.match(/^#[\w-]+$/)},isTagWithClass:function(c){return c.match(/[\w+\.\w+]+/)}},h=function(c,d){d=d.replace(/^\s+|\s+$/g,"");return l.isTag(d)?k(c.getElementsByTagName(d)):l.isId(d)?(d=d.replace("#",""),document.getElementById(d)):l.isClass(d)&&c.getElementsByClassName?(d=d.replace(".", ""),k(c.getElementsByClassName(d))):k(c.querySelectorAll(d))},k=function(c){try{return Array.prototype.slice.call(namespace.getElementsByTagName(selector))}catch(e){for(var d=[],a=c.length,b=0;b<a;b++)d.push(c[b]);return d}},q=function(c,d,a){if(document.createEvent){var b=document.createEvent("Event");b.initEvent(d,!1,!0);b.detail=a;var e=c.dispatchEvent(b)}else if(a){b=document.createEventObject();b.detail=a;a=c._event[d];for(var p in a)for(var m=0;m<a[p].length;m++)a[p][m](b)}else e=c.fireEvent("on"+ d);if(b=e)b=c[d],b=!!(b&&b.call&&b.apply);if(b)c[d]()},r=function(c){for(var d=c.length,a=[],b=0;b<d;b++){var e=c[b];e.nodeType===Node.ELEMENT_NODE&&a.push(e)}return a},f=function(c){var d=[];c&&(c instanceof Array?d=c:c instanceof HTMLCollection?d=k(c):c instanceof NodeList?d=r(c):d.push(c));return{els:d,size:d.length,each:function(a){for(var b=0;b<this.size;b++)a(this.els[b],b)},data:function(a,b){return void 0!==b?(this.each(function(e){e.setAttribute("data-"+a,b)}),this):this.first()?this.first().getAttribute("data-"+ a):""},val:function(a){return void 0!==a?(this.each(function(b){b.value=a}),this):this.first()?this.first().value:""},html:function(a){return void 0!==a?(this.each(function(b){b.innerHTML=a}),this):this.first()?this.first().innerHTML:""},prepend:function(a){this.each(function(b){"object"===typeof a?a.els?a.each(function(a){b.insertAdjacentElement("afterbegin",a)}):b.insertAdjacentElement("afterbegin",a):b.insertAdjacentHTML("afterbegin",a)});return this},append:function(a){var b;this.each(function(e){b= e.appendChild(a)});return f(b)},text:function(a){var b=void 0!=document.getElementsByTagName("body")[0].innerText?!0:!1,e="";this.each(function(c){"undefined"===typeof a?e=c.textContent||c.innerText:b?c.innerText=a:c.textContent=a});return e.trim()},attr:function(a,b){return void 0!==b?(this.each(function(e){e.setAttribute(a,b)}),this):this.first().getAttribute(a)},hasClass:function(a){var b=!1;this.each(function(e){e.classList?e.classList.contains(a)&&(b=!0):e.className.match(new RegExp("(^|\\s)"+ a+"($|\\s)"))&&(b=!0)});return b},addClass:function(a){this.each(function(b){b.classList?b.classList.add(a):b.className.match(new RegExp("(^|\\s)"+a+"($|\\s)"))||(b.className+=" "+a+" ")});return this},removeClass:function(a){this.each(function(b){b.classList?b.classList.remove(a):b.className=b.className.replace(new RegExp("(^|\\s)"+a+"($|\\s)"),"")});return this},toggleClass:function(a){this.each(function(b){b.classList?b.classList.toggle(a):(b=f(b),b.hasClass(a)?b.removeClass(a):b.addClass(a))}); return this},removeItem:function(){this.each(function(a,b){a.remove?a.remove():a.parentNode.removeChild(a)});this.els=[];this.size=0;return this},find:function(a){var b=[];this.each(function(e){var c=h(e,a);-1===b.indexOf(c)&&(b=b.concat(h(e,a)))});return f(b)},filter:function(a){for(var b=[],c=0;c<this.size;c++)"function"===typeof a&&a(this.els[c])?b.push(this.els[c]):"string"===typeof a&&this.els[c][a]&&b.push(this.els[c]);return f(b)},closest:function(a){function b(c){return!c||c instanceof Element&& d.call(c,a)?c:b(c.parentNode)}var c=[],d=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector||HTMLElement.prototype.oMatchesSelector;this.each(function(a){(a=b(a.parentNode))&&-1===c.indexOf(a)&&c.push(a)});return f(c)},first:function(){return this.els[0]},last:function(){return this.els[this.size-1]},previous:function(){var a=this.els[0];if(a.previousElementSibling)return f(a.previousElementSibling); for(;a=a.previousSibling;)if(1===a.nodeType)return f(a)},next:function(){var a=this.els[0];if(a.nextElementSibling)return f(a.nextElementSibling);for(;a=a.nextSibling;)if(1===a.nodeType)return f(a)},parent:function(){for(var a=[],b=0;b<this.size;b++)a.push(this.els[b].parentElement);return f(a)},isPresent:function(){return void 0!==this.els&&0<this.els.length},isEmpty:function(){return!this.isPresent()},on:function(a,b,c){this.each(function(e){g.addEvent(e,a,b,c)});g.boundEvents=g.boundEvents||{}; g.boundEvents[a]=g.boundEvents[a]||[];boundElements=g.boundEvents[a];this.each(function(a){-1===boundElements.indexOf(a)&&boundElements.push(a)});return this},throttle:function(a,b,c,d){c=c||1E3;var e=0;return this.on(a,function(a){e+c<=+new Date&&(b.apply(this,arguments),e=+new Date);a.preventDefault()},d)},debounce:function(a,b,c,d){c=c||1E3;var e=0;return this.on(a,function(a){clearTimeout(e);e=setTimeout(b.bind(this),c);a.preventDefault()},d)},off:function(a,b){this.each(function(c){g.removeEvent(c, a,b)});g.boundEvents=g.boundEvents||{};g.boundEvents[a]=g.boundEvents[a]||[];boundElements=g.boundEvents[a];elementIndex=-1;this.each(function(a){-1!==(elementIndex=boundElements.indexOf(a))&&boundElements.splice(elementIndex,1)});return this},trigger:function(a,b){this.each(function(c){q(c,a,b)})},selectedText:function(){var a=this.els[0],b=this.attr("type");b=b?b.match("(text|search|password|tel|url)"):!1;if(document.activeElement===a){if(b&&"undefined"!==typeof a.selectionStart&&0<a.selectionEnd)return a.value.substring(a.selectionStart, a.selectionEnd);if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString();if(document.selection)return document.selection.createRange().text?document.selection.createRange().text:document.selection.createRange().htmlText}},focus:function(){this.els[0].focus();return this},removeAttr:function(a){this.each(function(b){b.removeAttribute(a)});return this},scrollIntoView:function(a){this.els[0].scrollIntoView("boolean"===typeof a?  a:a||!0);return this},insertBefore:function(a){"string"===typeof a&&(a=f(h(document,a)));a.each(function(a){if(!a.parentNode)throw Error("Trying to insert element before element without parent");a.insertAdjacentHTML("beforebegin",this.els[0].outerHTML)}.bind(this))},insertAfter:function(a){"string"===typeof a&&(a=f(h(document,a)));a.each(function(a){if(!a.parentNode)throw Error("Trying to insert element after element without parent");a.insertAdjacentHTML("afterend",this.els[0].outerHTML)}.bind(this))}}}; n.broadcast=function(c,d){for(var a=g.boundEvents[c]||[],b=0;b<a.length;b++)q(a[b],c,d)};return n});