define("doc",["event"],function(t){function e(t){return t?a("string"==typeof t?s(document,t):t):t}var n={isTag:function(t){return t.match(/^\w+$/)},isClass:function(t){return t.match(/^\.[\w-]+$/)},isId:function(t){return t.match(/^#[\w-]+$/)},isTagWithClass:function(t){return t.match(/[\w+\.\w+]+/)}},i=function(t){return!!(t&&t.call&&t.apply)},s=function(t,e){var e=e.replace(/^\s+|\s+$/g,"");return n.isTag(e)?r(t.getElementsByTagName(e)):n.isId(e)?(e=e.replace("#",""),document.getElementById(e)):n.isClass(e)&&t.getElementsByClassName?(e=e.replace(".",""),r(t.getElementsByClassName(e))):r(t.querySelectorAll(e))},r=function(t){try{return Array.prototype.slice.call(namespace.getElementsByTagName(selector))}catch(e){for(var n=[],i=t.length,s=0;i>s;s++)n.push(t[s]);return n}},o=function(t,e,n){var s;if(document.createEvent){var r=document.createEvent("Event");r.initEvent(e,!1,!0),r.detail=n,s=t.dispatchEvent(r)}else if(n){var r=document.createEventObject();r.detail=n;var o=t._event[e];for(var c in o)for(var a=0;a<o[c].length;a++)o[c][a](r)}else s=t.fireEvent("on"+e);s&&i(t[e])&&t[e]()},c=function(t,e){return t.className.match(new RegExp("(^|\\s)"+e+"($|\\s)"))},a=function(e){var n=[];return e&&(e instanceof Array?n=e:n.push(e)),{els:n,size:n.length,each:function(t){for(var e=0;e<this.size;e++)t(this.els[e],e)},data:function(t,e){return void 0!==e?(this.each(function(n){n.setAttribute("data-"+t,e)}),this):this.first()?this.first().getAttribute("data-"+t):""},val:function(t){return void 0!==t?(this.each(function(e){e.value=t}),this):this.first()?this.first().value:""},html:function(t){return void 0!==t?(this.each(function(e){e.innerHTML=t}),this):this.first()?this.first().innerHTML:""},prepend:function(t){return this.each(function(e){if("object"==typeof t){if(t.els)return void t.each(function(t){e.insertAdjacentElement("afterbegin",t)});e.insertAdjacentElement("afterbegin",t)}else e.insertAdjacentHTML("afterbegin",t)}),this},append:function(t){var e;return this.each(function(n){e=n.appendChild(t)}),a(e)},text:function(t){var e=void 0!=document.getElementsByTagName("body")[0].innerText?!0:!1,n="";return this.each(function(i){"undefined"==typeof t?n=i.textContent||i.innerText:e?i.innerText=t:i.textContent=t}),n.trim()},attr:function(t,e){return void 0!==e?(this.each(function(n){n.setAttribute(t,e)}),this):this.first().getAttribute(t)},hasClass:function(t){var e=!1;return this.each(function(n){n.classList?n.classList.contains(t)&&(e=!0):c(n,t)&&(e=!0)}),e},addClass:function(t){return this.each(function(e){e.classList?e.classList.add(t):c(e,t)||(e.className+=" "+t+" ")}),this},removeClass:function(t){return this.each(function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"($|\\s)"),"")}),this},toggleClass:function(t){return this.each(function(e){if(e.classList)e.classList.toggle(t);else{var n=a(e);n.hasClass(t)?n.removeClass(t):n.addClass(t)}}),this},removeItem:function(){return this.each(function(t,e){t.remove?t.remove():t.parentNode.removeChild(t),t=null}),this.els=[],this.size=0,this},find:function(t){var e=[];return this.each(function(n){var i=s(n,t);-1===e.indexOf(i)&&(e=e.concat(s(n,t)))}),a(e)},filter:function(t){for(var e=[],n=0;n<this.size;n++)"function"==typeof t&&t(this.els[n])?e.push(this.els[n]):"string"==typeof t&&this.els[n][t]&&e.push(this.els[n]);return a(e)},closest:function(t){function e(n){return!n||n instanceof Element&&i.call(n,t)?n:e(n.parentNode)}var n=[],i=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector||HTMLElement.prototype.oMatchesSelector;return this.each(function(t){var i=e(t.parentNode);i&&-1===n.indexOf(i)&&n.push(i)}),a(n)},first:function(){return this.els[0]},last:function(){return this.els[this.size-1]},previous:function(){var t=this.els[0];if(t.previousElementSibling)return a(t.previousElementSibling);for(;t=t.previousSibling;)if(1===t.nodeType)return a(t)},next:function(){var t=this.els[0];if(t.nextElementSibling)return a(t.nextElementSibling);for(;t=t.nextSibling;)if(1===t.nodeType)return a(t)},parent:function(){for(var t=[],e=0;e<this.size;e++)t.push(this.els[e].parentElement);return a(t)},isPresent:function(){return void 0!==this.els&&this.els.length>0},isEmpty:function(){return!this.isPresent()},on:function(e,n,i){return this.each(function(s){t.addEvent(s,e,n,i)}),t.boundEvents=t.boundEvents||{},t.boundEvents[e]=t.boundEvents[e]||[],boundElements=t.boundEvents[e],this.each(function(t){-1===boundElements.indexOf(t)&&boundElements.push(t)}),this},throttle:function(t,e,n,i){n=n||1e3;var s=0,r=function(t){var i=+new Date;i>=s+n&&(e.apply(this,arguments),s=+new Date),t.preventDefault()};return this.on(t,r,i)},off:function(e,n){return this.each(function(i){t.removeEvent(i,e,n)}),t.boundEvents=t.boundEvents||{},t.boundEvents[e]=t.boundEvents[e]||[],boundElements=t.boundEvents[e],elementIndex=-1,this.each(function(t){-1!==(elementIndex=boundElements.indexOf(t))&&boundElements.splice(elementIndex,1)}),this},trigger:function(t,e){this.each(function(n){o(n,t,e)})},selectedText:function(){var t=this.els[0],e=this.attr("type"),n=e?e.match("(text|search|password|tel|url)"):!1;return document.activeElement!==t?void 0:n&&"undefined"!=typeof t.selectionStart&&t.selectionEnd>0?t.value.substring(t.selectionStart,t.selectionEnd):window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text?document.selection.createRange().text:document.selection.createRange().htmlText:void 0},focus:function(){return this.els[0].focus(),this},removeAttr:function(t){return this.each(function(e){e.removeAttribute(t)}),this},scrollIntoView:function(t){var t="boolean"==typeof t?t:t||!0;return this.els[0].scrollIntoView(t),this}}};return e.broadcast=function(e,n){for(var i=t.boundEvents[e]||[],s=0;s<i.length;s++){var r=i[s];o(r,e,n)}},e});
