define("doc",["event"],function(t){function e(t){return t?u("string"==typeof t?s(document,t):t):t}var n={isTag:function(t){return t.match(/^\w+$/)},isClass:function(t){return t.match(/^\.[\w-]+$/)},isId:function(t){return t.match(/^#[\w-]+$/)},isTagWithClass:function(t){return t.match(/[\w+\.\w+]+/)}},i=function(t){return!!(t&&t.call&&t.apply)},s=function(t,e){var e=e.replace(/^\s+|\s+$/g,"");return n.isTag(e)?r(t.getElementsByTagName(e)):n.isId(e)?(e=e.replace("#",""),document.getElementById(e)):n.isClass(e)&&t.getElementsByClassName?(e=e.replace(".",""),r(t.getElementsByClassName(e))):r(t.querySelectorAll(e))},r=function(t){try{return Array.prototype.slice.call(namespace.getElementsByTagName(selector))}catch(s){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}},o=function(t,e,n){var s;if(document.createEvent){var r=document.createEvent("Event");r.initEvent(e,!1,!0),r.detail=n,s=t.dispatchEvent(r)}else if(n){(r=document.createEventObject()).detail=n;var o=t._event[e];for(var c in o)for(var a=0;a<o[c].length;a++)o[c][a](r)}else s=t.fireEvent("on"+e);s&&i(t[e])&&t[e]()},c=function(t,e){return t.className.match(new RegExp("(^|\\s)"+e+"($|\\s)"))},a=function(t){for(var e=t.length,n=[],i=0;i<e;i++){var s=t[i];s.nodeType===Node.ELEMENT_NODE&&n.push(s)}return n},u=function(e){var n=[];return e&&(e instanceof Array?n=e:e instanceof HTMLCollection?n=r(e):e instanceof NodeList?n=a(e):n.push(e)),{els:n,size:n.length,each:function(t){for(var e=0;e<this.size;e++)t(this.els[e],e)},data:function(t,e){return void 0!==e?(this.each(function(n){n.setAttribute("data-"+t,e)}),this):this.first()?this.first().getAttribute("data-"+t):""},val:function(t){return void 0!==t?(this.each(function(e){e.value=t}),this):this.first()?this.first().value:""},html:function(t){return void 0!==t?(this.each(function(e){e.innerHTML=t}),this):this.first()?this.first().innerHTML:""},prepend:function(t){return this.each(function(e){if("object"==typeof t){if(t.els)return void t.each(function(t){e.insertAdjacentElement("afterbegin",t)});e.insertAdjacentElement("afterbegin",t)}else e.insertAdjacentHTML("afterbegin",t)}),this},append:function(t){var e;return this.each(function(n){e=n.appendChild(t)}),u(e)},text:function(t){var e=void 0!=document.getElementsByTagName("body")[0].innerText,n="";return this.each(function(i){void 0===t?n=i.textContent||i.innerText:e?i.innerText=t:i.textContent=t}),n.trim()},attr:function(t,e){if(void 0!==e)return"string"==typeof t&&this.each(function(n){n.setAttribute(t,e)}),this;if("object"==typeof t){for(k in t)this.each(function(e){e.setAttribute(k,t[k])});return this}return this.first().getAttribute(t)},removeAttr:function(t){var e=t.split(" ");return this.each(function(t){e.forEach(function(e){t.removeAttribute(e)})}),this},hasClass:function(t){var e=!1;return this.each(function(n){n.classList?n.classList.contains(t)&&(e=!0):c(n,t)&&(e=!0)}),e},addClass:function(t){var e=t.split(" ");return this.each(function(t){e.forEach(function(e){t.classList?t.classList.add(e):c(t,e)||(t.className+=" "+e+" ")})}),this},removeClass:function(t){var e=t.split(" ");return this.each(function(t){e.forEach(function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"($|\\s)"),"")})}),this},toggleClass:function(t){var e=t.split(" ");return this.each(function(t){e.forEach(function(e){if(t.classList)t.classList.toggle(e);else{var n=u(t);n.hasClass(e)?n.removeClass(e):n.addClass(e)}})}),this},removeItem:function(){return this.each(function(t,e){t.remove?t.remove():t.parentNode.removeChild(t),t=null}),this.els=[],this.size=0,this},find:function(t){var e=[];return this.each(function(n){var i=s(n,t);-1===e.indexOf(i)&&(e=e.concat(s(n,t)))}),u(e)},filter:function(t){for(var e=[],n=0;n<this.size;n++)"function"==typeof t&&t(this.els[n])?e.push(this.els[n]):"string"==typeof t&&this.els[n][t]&&e.push(this.els[n]);return u(e)},closest:function(t){function e(n){return!n||n instanceof Element&&i.call(n,t)?n:e(n.parentNode)}var n=[],i=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector||HTMLElement.prototype.oMatchesSelector;return this.each(function(t){var i=e(t.parentNode);i&&-1===n.indexOf(i)&&n.push(i)}),u(n)},first:function(){return this.els[0]},last:function(){return this.els[this.size-1]},previous:function(){var t=this.els[0];if(t.previousElementSibling)return u(t.previousElementSibling);for(;t=t.previousSibling;)if(1===t.nodeType)return u(t)},next:function(){var t=this.els[0];if(t.nextElementSibling)return u(t.nextElementSibling);for(;t=t.nextSibling;)if(1===t.nodeType)return u(t)},parent:function(){for(var t=[],e=0;e<this.size;e++)t.push(this.els[e].parentElement);return u(t)},isPresent:function(){return void 0!==this.els&&this.els.length>0},isEmpty:function(){return!this.isPresent()},on:function(e,n,i){return this.each(function(s){t.addEvent(s,e,n,i)}),t.boundEvents=t.boundEvents||{},t.boundEvents[e]=t.boundEvents[e]||[],boundElements=t.boundEvents[e],this.each(function(t){-1===boundElements.indexOf(t)&&boundElements.push(t)}),this},throttle:function(t,e,n,i){n=n||1e3;var s=0;return this.on(t,function(t){var i=+new Date;s+n<=i&&(e.apply(this,arguments),s=+new Date),t.preventDefault()},i)},debounce:function(t,e,n,i){n=n||1e3;var s=0;return this.on(t,function(t){clearTimeout(s),s=setTimeout(e.bind(this),n),t.preventDefault()},i)},off:function(e,n){return this.each(function(i){t.removeEvent(i,e,n)}),t.boundEvents=t.boundEvents||{},t.boundEvents[e]=t.boundEvents[e]||[],boundElements=t.boundEvents[e],elementIndex=-1,this.each(function(t){-1!==(elementIndex=boundElements.indexOf(t))&&boundElements.splice(elementIndex,1)}),this},trigger:function(t,e){this.each(function(n){o(n,t,e)})},selectedText:function(){var t=this.els[0],e=this.attr("type"),n=!!e&&e.match("(text|search|password|tel|url)");return document.activeElement!==t?void 0:n&&void 0!==t.selectionStart&&t.selectionEnd>0?t.value.substring(t.selectionStart,t.selectionEnd):window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text?document.selection.createRange().text:document.selection.createRange().htmlText:void 0},focus:function(){return this.els[0].focus(),this},scrollIntoView:function(t){var t="boolean"==typeof t?t:t||!0;return this.els[0].scrollIntoView(t),this},insertBefore:function(t){"string"==typeof t&&(t=u(s(document,t))),t.each(function(t){if(!t.parentNode)throw Error("Trying to insert element before element without parent");t.insertAdjacentHTML("beforebegin",this.els[0].outerHTML)}.bind(this))},insertAfter:function(t){"string"==typeof t&&(t=u(s(document,t))),t.each(function(t){if(!t.parentNode)throw Error("Trying to insert element after element without parent");t.insertAdjacentHTML("afterend",this.els[0].outerHTML)}.bind(this))}}};return e.broadcast=function(e,n){for(var i=t.boundEvents[e]||[],s=0;s<i.length;s++)o(i[s],e,n)},e});